import{q as v,j as b,v as n,m as d,w as u}from"./D-t3o9-t.js";function p(t,r,e){v(()=>{var s=b(()=>r(t,e?.())||{});if(e&&s?.update){var a=!1,f={};n(()=>{var o=e();d(o),a&&u(f,o)&&(f=o,s.update(o))}),a=!0}if(s?.destroy)return()=>s.destroy()})}class i{#r=new WeakMap;#e;#s;static entries=new WeakMap;constructor(r){this.#s=r}observe(r,e){var s=this.#r.get(r)||new Set;return s.add(e),this.#r.set(r,s),this.#t().observe(r,this.#s),()=>{var a=this.#r.get(r);a.delete(e),a.size===0&&(this.#r.delete(r),this.#e.unobserve(r))}}#t(){return this.#e??(this.#e=new ResizeObserver(r=>{for(var e of r){i.entries.set(e.target,e);for(var s of this.#r.get(e.target)||[])s(e)}}))}}var h=new i({box:"border-box"});function _(t,r,e){var s=h.observe(t,()=>e(t[r]));v(()=>(b(()=>e(t[r])),s))}export{p as a,_ as b};
